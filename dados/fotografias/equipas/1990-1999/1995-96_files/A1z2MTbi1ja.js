;/*FB_PKG_DELIM*/

__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,primary_key:["groupId"]},{name:"pending_tasks",id:2,primary_key:["taskId"],indexes:{queueNameTaskId:["queueName","taskId"]},auto_increment:!0},{name:"network_requests",id:3,primary_key:["taskQueueName","syncDatabaseId"]},{name:"_user_info",id:4,primary_key:["id"]},{name:"pending_fire_and_forget_tasks",id:5,primary_key:["taskId"],auto_increment:!0},{name:"user_visible_errors",id:6,primary_key:["errorId"],auto_increment:!0},{name:"mailbox_task_completion_notification_context",id:232,primary_key:["notificationScopeKey"]},{name:"mailbox_task_completion_api_tasks",id:233,primary_key:["taskId"]}],[{name:"contacts",id:7,primary_key:["id"],indexes:{blockedByViewerStatusId:["blockedByViewerStatus","id"]}},{name:"ig_contact_info",id:176,primary_key:["contactId"]},{name:"work_contact_info",id:210,primary_key:["id"]},{name:"contextual_profile_v1",id:216,primary_key:["ownerId","associatedEntityId"],indexes:{associatedEntityIdAndOwner:["associatedEntityId","ownerId"]}},{name:"fb_transport_contacts",id:240,primary_key:["pk"]}],[{name:"reactions",id:8,primary_key:["threadKey","messageId","actorId"]},{name:"threads",id:9,primary_key:["threadKey"],indexes:{lastActivityTimestampMs:["lastActivityTimestampMs","threadKey"],parentThreadKeyLastActivityTimestampMs:["parentThreadKey","lastActivityTimestampMs","threadKey"],clientThreadKey:["clientThreadKey","threadKey"],threadTypeLastActivityTimestampMs:["threadType","lastActivityTimestampMs","threadKey"]}},{name:"threads_ranges_v2__generated",id:10,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"]},{name:"messages",id:12,primary_key:["threadKey","timestampMs","messageId"],indexes:{optimistic:["offlineThreadingId"],messageDisplayOrder:["threadKey","primarySortKey","secondarySortKey","messageId"],messageId:["messageId"]}},{name:"messages_ranges_v2__generated",id:13,primary_key:["threadKey","minTimestampMs","minMessageId"]},{name:"participants",id:14,primary_key:["threadKey","contactId"],indexes:{threadKeyReadWatermarkTimestampMs:["threadKey","readWatermarkTimestampMs","contactId"],threadKeyDeliveredWatermarkTimestampMs:["threadKey","deliveredWatermarkTimestampMs","contactId"]}},{name:"ctas",id:15,primary_key:["ctaId"]},{name:"attachments",id:16,primary_key:["threadKey","messageId","attachmentFbid"],indexes:{fk_messages:["threadKey","timestampMs","messageId","attachmentFbid"]}},{name:"attachments_ranges_v2__generated",id:17,primary_key:["threadKey","mediaGroup","minTimestampMs"]},{name:"attachment_items",id:18,primary_key:["attachmentFbid","attachmentIndex"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","attachmentIndex"]}},{name:"attachment_ctas",id:19,primary_key:["ctaId"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","ctaId"]}},{name:"quick_reply_ctas",id:20,primary_key:["threadKey","messageId","ctaId"]},{name:"m_suggestions",id:21,primary_key:["threadKey","timestampMs","suggestionId"]},{name:"rtc_signals",id:22,primary_key:["timestampMs","type_"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,primary_key:["threadKey"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,primary_key:["threadKey"]},{name:"mailbox_metadata",id:25,primary_key:["id"]},{name:"group_membership_approval_requests",id:26,primary_key:["threadKey","contactId"]},{name:"admin_message_ctas",id:27,primary_key:["threadKey","messageId","ctaId"],indexes:{ctaId:["ctaId"]}},{name:"thread_nullstate",id:28,primary_key:["threadKey"]},{name:"thread_nullstate_ctas",id:29,primary_key:["ctaId"],indexes:{threadKeyCtaId:["threadKey","ctaId"]}},{name:"focus_mode_ctas",id:30,primary_key:["threadKey","messageId","ctaId"]},{name:"messages_optimistic_context",id:31,primary_key:["taskId"]},{name:"threads_optimistic_context",id:32,primary_key:["taskId"]},{name:"messages_status",id:33,primary_key:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"]},{name:"message_requests",id:34,primary_key:["threadKey"]},{name:"folder_metadata",id:35,primary_key:["parentThreadKey"]},{name:"polls",id:38,primary_key:["pollId"]},{name:"poll_options_v2",id:39,primary_key:["pollId","optionId"]},{name:"poll_votes_v2",id:40,primary_key:["pollId","optionId","contactId"]},{name:"pinned_messages_v2",id:155,primary_key:["threadKey","messageId"]},{name:"filtered_threads_ranges_v3__generated",id:247,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"]},{name:"community_folders",id:162,primary_key:["folderId"]},{name:"community_members",id:170,primary_key:["communityId","contactId","source"],indexes:{communityContactId:["communityId","contactId","source"],communitySource:["communityId","source","name","contactId"]}},{name:"community_members_ranges_v2__generated",id:189,primary_key:["communityId","isAdmin","minName","source"]},{name:"attachment_conversion",id:164,primary_key:["attachmentFbid"]},{name:"saved_messages",id:165,primary_key:["threadKey","messageId"]},{name:"rtc_rooms_on_threads",id:181,primary_key:["threadKey"]},{name:"ig_thread_info",id:194,primary_key:["threadKey"],indexes:{igThreadID:["igThreadId"]}},{name:"group_invites",id:197,primary_key:["threadKey","inviterId","inviteeId"],indexes:{threadKeyInviterIDInviteeID:["threadKey","inviterId","inviteeId"]}},{name:"inbox_threads_ranges",id:198,primary_key:["syncGroup"]},{name:"community_direct_invites_presets",id:199,primary_key:["communityId","presetType","source"]},{name:"msg_pinned_messages_v2",id:205,primary_key:["threadKey","messageId","pinnedTimestampMs"],indexes:{pinnedMessageDisplayOrder:["threadKey","pinnedTimestampMs","messageId"]}},{name:"filtered_messages_ranges_v2__generated",id:211,primary_key:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"]},{name:"taken_down_threads",id:212,primary_key:["threadKey"]},{name:"participant_list_queries",id:219,primary_key:["threadKey"]},{name:"sync_group_threads_ranges",id:220,primary_key:["syncGroup","parentThreadKey"]},{name:"community_chat_message_seen_count",id:221,primary_key:["threadKey","messageId"]},{name:"community_chat_polls",id:223,primary_key:["pollId"]},{name:"community_chat_poll_options",id:224,primary_key:["pollId","optionId"]},{name:"community_chat_poll_votes",id:225,primary_key:["pollId","optionId","contactId"]},{name:"reactions_v2",id:226,primary_key:["threadKey","messageId","reactionFbid","messageTimestamp"],indexes:{optimistic:["threadKey","messageId","reactionFbid"]}},{name:"reactions_v2_details_users",id:227,primary_key:["reactorId","reactionFbid"]},{name:"reactions_v2_details_users_ranges_v2__generated",id:228,primary_key:["reactorId","reactionFbid","minTimestampMs"]},{name:"reaction_v2_types",id:229,primary_key:["reactionFbid"]},{name:"bots",id:230,primary_key:["threadKey","botId"]},{name:"business_comm_items",id:234,primary_key:["threadKey","entId"]},{name:"group_invitations_pending",id:235,primary_key:["linkHash"]},{name:"business_support_notification_settings",id:236,primary_key:["userId"]},{name:"thread_label_mappings",id:237,primary_key:["threadKey","labelId"]},{name:"audio_channel_events",id:238,primary_key:["eventId","roomId"]},{name:"reactions_v2_details",id:239,primary_key:["threadId","messageId","reactorId","reactionFbid"]},{name:"reactions_v2_details_ranges_v2__generated",id:243,primary_key:["threadId","messageId","reactionFbid","minTimestampMs"]},{name:"community_chat_poll_votes_ranges_v2__generated",id:244,primary_key:["pollId","optionId","minTimestampMs"]}],[{name:"media_send_jobs",id:51,primary_key:["offlineAttachmentId"]}],[{name:"typing_indicator",id:52,primary_key:["threadKey","senderId"]}],[{name:"server_search_results",id:65,primary_key:["query","resultId","globalIndex"]},{name:"server_search_sections",id:66,primary_key:["query","globalIndex"]},{name:"search_queries",id:67,primary_key:["query"]},{name:"universal_search_recent_searches",id:68,primary_key:["resultId"]},{name:"message_search_results",id:69,primary_key:["type_","query","threadKey","globalIndex"]},{name:"message_search_queries",id:70,primary_key:["type_","query","threadKeyV2"]},{name:"participant_search_queries",id:214,primary_key:["query","threadKey"]}],[{name:"contact_upload_settings",id:74,primary_key:["userid"]},{name:"gdpr_settings",id:75,primary_key:["userid"]},{name:"presence_settings",id:187,primary_key:["userId"]},{name:"persistent_menu_items",id:77,primary_key:["threadKey","ctaId"]},{name:"video_chat_links_joining",id:78,primary_key:["url","optimisticClientToken"],indexes:{optimistic:["optimisticClientToken"]}},{name:"video_chat_links_attempted_joiners",id:79,primary_key:["userId","url"]},{name:"cowatch_sessions",id:80,primary_key:["cowatchSessionId"]},{name:"self_profile",id:81,primary_key:["userId"]},{name:"pinned_threads",id:82,primary_key:["threadKey"],indexes:{pinnedTimestamp:["pinnedTimestamp","threadKey"]}},{name:"messaging_settings",id:83,primary_key:["id"]},{name:"reachability_settings",id:148,primary_key:["audience"]},{name:"feature_limits",id:150,primary_key:["type_"]},{name:"emoji_sets",id:151,primary_key:["categoryIdx","emojiIdx","type_"]},{name:"epd_cookie_settings",id:163,primary_key:[]},{name:"cm_community_list",id:166,primary_key:["communityId"]},{name:"cm_channel_list",id:167,primary_key:["communityId","threadId"]},{name:"cm_category_list",id:182,primary_key:["communityId","categoryId"]},{name:"notification_settings",id:175,primary_key:["id"]},{name:"encrypted_backups_status_trigger",id:195,primary_key:["pk"],auto_increment:!0},{name:"fb_events",id:200,primary_key:["eventId"]},{name:"cm_channel_events",id:201,primary_key:["eventId","threadId"],indexes:{eventsInThread:["threadId","eventId"]}},{name:"community_events",id:202,primary_key:["eventId","communityId"]},{name:"avatar_settings",id:209,primary_key:["threadId"]},{name:"thread_labels",id:215,primary_key:["labelId"],indexes:{sortKey:["sortKey"]}},{name:"business_support_case_details",id:222,primary_key:["threadId"]},{name:"rtc_call_events",id:245,primary_key:["pk"],auto_increment:!0}],[{name:"payment_type_paypal",id:85,primary_key:["paymentCredentialId"]},{name:"payment_type_card",id:86,primary_key:["paymentCredentialId"]},{name:"payment_type_bank_v2",id:88,primary_key:["paymentMethodId"]},{name:"payment_method",id:89,primary_key:["paymentMethodId"]},{name:"new_payment_credential_option",id:90,primary_key:["credentialType"]},{name:"paypal_funding_options",id:91,primary_key:["optionId"]},{name:"payments_eligibility",id:92,primary_key:["userId"]},{name:"payments_ofac_blacklisted_countries",id:93,primary_key:["isoCountryCode"]},{name:"p2m_invoice",id:94,primary_key:["orderId"]},{name:"p2m_invoice_attachment",id:95,primary_key:["orderId","productItemId"]},{name:"payment_price_list_item",id:96,primary_key:["orderId","id"]},{name:"p2m_charge",id:97,primary_key:["orderId"]},{name:"payment_p2p_risk_verification",id:98,primary_key:["requestId","transactionId"]},{name:"payment_transaction_v2",id:99,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_request_v2",id:100,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_transfer_v2",id:101,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"transaction_history",id:102,primary_key:["transactionId"]},{name:"payments_transaction_details_core",id:103,primary_key:["transactionId"]},{name:"payments_transaction_details_ctas",id:104,primary_key:["transactionId","ctaId"]},{name:"payments_transaction_details_rows",id:105,primary_key:["transactionId","rowOrder"]},{name:"payment_user_auth",id:106,primary_key:["userId"]},{name:"payment_client_auth_token",id:107,primary_key:["userId","deviceId","appId"]},{name:"payment_auth_request_results",id:108,primary_key:["requestId"]},{name:"payment_server_request_results",id:109,primary_key:["requestId"]},{name:"payment_pin_verification_results",id:113,primary_key:["requestId"]}],[{name:"connectivity_status",id:114,primary_key:["statusId"],auto_increment:!0},{name:"user_visible_network_connectivity_error",id:115,primary_key:["statusId"],auto_increment:!0}],[{name:"thread_themes",id:116,primary_key:["fbid"]},{name:"gradient_colors",id:117,primary_key:["themeFbid","gradientIndex"]}],[{name:"in_thread_banner",id:118,primary_key:["threadKey","bannerId"]},{name:"in_thread_banner_ctas",id:119,primary_key:["bannerId","ctaId"]},{name:"in_thread_banner_overflow_menu",id:120,primary_key:["threadKey","bannerId"]}],[{name:"stickers",id:121,primary_key:["stickerId"],indexes:{stickerPackId:["stickerPackId","stickerId"]}},{name:"sticker_packs",id:122,primary_key:["packId"]},{name:"sticker_search_results",id:123,primary_key:["resultIndex","query","type_"]},{name:"sticker_search_queries",id:124,primary_key:["query"]},{name:"sticker_search_featured_tags",id:125,primary_key:["tagIndex"]},{name:"sticker_to_collection",id:126,primary_key:["stickerId","collectionId"]},{name:"sticker_pack_details",id:127,primary_key:["packId"]},{name:"sticker_store_pack_indices",id:128,primary_key:["packId"]}],[{name:"forward_content",id:129,primary_key:["value","type_"]}],[{name:"linked_groups",id:130,primary_key:["id"],indexes:{threadKey:["threadKey"]}}],[{name:"ranking_scores",id:134,primary_key:["contactId","scoreType"],indexes:{scoreTypeContactId:["scoreType","contactId"]}},{name:"ranking_requests",id:135,primary_key:["scoreType"]},{name:"value_model_rules",id:136,primary_key:["product","ruleIndex"]},{name:"value_model_features",id:137,primary_key:["feature"]},{name:"value_model_output",id:138,primary_key:["product","contactId"]}],[{name:"story_buckets",id:53,primary_key:["bucketId"],indexes:{optimistic:["ownerId","bucketType"]}},{name:"stories",id:54,primary_key:["storyId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_viewers",id:55,primary_key:["storyId","viewerContactId","interactionType"]},{name:"story_reactions",id:56,primary_key:["reactionId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_ad_unit",id:57,primary_key:["adPosition","clientToken"]},{name:"story_ad_card",id:58,primary_key:["adPosition","clientToken","cardId"]},{name:"story_ad_ctas",id:59,primary_key:["ctaId"]},{name:"story_overlays",id:60,primary_key:["storyId","storyOverlayId"]},{name:"story_buckets_paginated_queries",id:61,primary_key:["queryId"]},{name:"status",id:62,primary_key:["statusId"],indexes:{optimistic:["optimisticClientId"]}},{name:"rooms",id:63,primary_key:["roomId"],indexes:{optimistic:["optimisticClientToken"]}},{name:"room_participants",id:64,primary_key:["roomId","participantId","type_"],indexes:{optimistic:["roomId","participantId"]}}],[{name:"live_location_sharers",id:149,primary_key:["threadKey","userId"]}],[{name:"mi_act_mapping_table",id:173,primary_key:["serverThreadKey","clientThreadPk","jid"],indexes:{fk_threads:["serverThreadKey"],chat_id:["clientThreadPk"],jid:["jid"]}},{name:"media_staging",id:161,primary_key:["offlineAttachmentId"]}],[{name:"data_trace_meta",id:153,primary_key:["traceId"],indexes:{shouldFlushInitTimestampMsTraceId:["shouldFlush","initTimestampMs","traceId"]}},{name:"data_trace_addon",id:154,primary_key:["addonId"],indexes:{traceIdAddonId:["traceId","addonId"]},auto_increment:!0}],[{name:"ad_context",id:160,primary_key:["adId"]}],[{name:"thread_proactive_warning_settings",id:183,primary_key:["threadKey"]},{name:"client_thread_proactive_warning_settings",id:241,primary_key:["threadPk"]}],[{name:"presence_states",id:186,primary_key:["contactId"],indexes:{statusContactId:["status","contactId"]}}],[{name:"available_reactions",id:188,primary_key:["emojiIdx"]}],[{name:"pending_backups_context_v2",id:177,primary_key:["pk"],indexes:{fk_pending_tasks:["pendingBackupTaskId"]},auto_increment:!0},{name:"secure_encrypted_backups_client_state",id:168,primary_key:["backupId"]},{name:"encrypted_backups_debug_metadata",id:206,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata",id:207,primary_key:["epochId"]},{name:"encrypted_backups_debug_metadata_v2",id:217,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata_v2",id:218,primary_key:["epochId"]},{name:"secure_encrypted_backups_epochs",id:169,primary_key:["epochId"],indexes:{fk_secure_encrypted_backups_client_state:["backupId","epochId"]}},{name:"encrypted_backups",id:172,primary_key:["pk"],auto_increment:!0},{name:"secure_encrypted_backups_generated_recovery_code",id:174,primary_key:["pk"]},{name:"secure_encrypted_backups_recovery_code_status",id:178,primary_key:["pk"]},{name:"secure_recovery_code_data",id:179,primary_key:["taskId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"secure_encrypted_backups_message_thread_id_context",id:180,primary_key:["taskId","listId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"encrypted_backups_virtual_devices",id:184,primary_key:["pk"],auto_increment:!0},{name:"encrypted_backups_metadata",id:196,primary_key:["backupId"]},{name:"device_metadata",id:185,primary_key:["pk"]},{name:"encrypted_backup_restore_task_payload_context",id:190,primary_key:["taskId"]},{name:"encrypted_backups_dyi_backup_restore_status",id:208,primary_key:["pk"]},{name:"encrypted_backups_message_backup_status",id:213,primary_key:["messagePk"]},{name:"encrypted_backups_client_restore_status",id:231,primary_key:["threadId"]},{name:"third_party_id_store",id:242,primary_key:["platform"]}],[{name:"secure_encrypted_backups_devices",id:191,primary_key:["deviceId"]},{name:"secure_encrypted_backups_device_supported_versions",id:192,primary_key:["deviceId","supportedVersion"],indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:["deviceId","supportedVersion"]}}],[{name:"e2ee_dummy_table_for_sync",id:171,primary_key:["placeholder"]},{name:"cutover_threads",id:193,primary_key:["openThreadId"]}],[{name:"community_messaging_aggregated_user_presence_counts_for_community",id:203,primary_key:["folderId"]},{name:"community_messaging_aggregated_copresence_counts_for_chat",id:204,primary_key:["threadId"]}],[{name:"workrooms_co_presence_states",id:246,primary_key:["userId"],indexes:{userCoPresence:["userId","coPresenceObjectId"]}}]]}),null);
__d("LSIntEnum",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("I64").of_float(a)}function b(a){return d("I64").to_float(a)}g.ofNumber=a;g.toNumber=b}),98);
__d("BPlusTreeBase",["justknobx","regeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=(d=b("regeneratorRuntime")).mark(q),i=d.mark(r),j=d.mark(v),k=d.mark(w),l=d.mark(x),m=d.mark(y),n=d.mark(z),o=d.mark(A),p={gte:[!0,0],lt:[!0,1],gt:[!1,0],lte:[!1,1]};function q(a){var c,d,e,f,g,i,j,k,l,m,n,o;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(a.readHeader(),"t0",1);case 1:c=b.t0;if(!(c==null||c.rootId==null||c.headId==null)){b.next=4;break}return b.abrupt("return");case 4:return b.delegateYield(a.readExn(c.rootId),"t1",5);case 5:d=b.t1,e=[{node:d,id:c.rootId}];case 7:if(!(e.length>0)){b.next=30;break}f=e.shift(),g=f.id,i=f.node;if(i.isLeaf){b.next=27;break}j=i.children,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 11:if(!k){b.next=17;break}if(!(l>=j.length)){b.next=14;break}return b.abrupt("break",27);case 14:m=j[l++];b.next=21;break;case 17:l=j.next();if(!l.done){b.next=20;break}return b.abrupt("break",27);case 20:m=l.value;case 21:n=m;return b.delegateYield(a.read(n),"t2",23);case 23:o=b.t2,o!=null&&e.push({node:o,id:n});case 25:b.next=11;break;case 27:return b.delegateYield(a.remove(g),"t3",28);case 28:b.next=7;break;case 30:return b.delegateYield(a.removeHeader(),"t4",31);case 31:case"end":return b.stop()}},h,this)}function r(a,c,d,e){var f,g,h,j,k;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(c.readExn(d),"t0",1);case 1:f=b.t0,g=[],(h=f,j=d),k=-1;case 5:if(h.isLeaf){b.next=14;break}g.push([h,j,k]);k=s(a,h.keys,e,p.gt);k===-1&&(k=h.keys.length);j=h.children[k];return b.delegateYield(c.readExn(j),"t1",11);case 11:h=b.t1;b.next=5;break;case 14:return b.abrupt("return",[h,j,g,k]);case 15:case"end":return b.stop()}},i,this)}function s(a,b,c,d){var e=0,f=b.length-1;while(e<=f){var g=e+f>>1;(d[0]?a(b[g],c)<0:a(b[g],c)<=0)?e=g+1:f=g-1}g=[e,f][d[1]];return g===b.length?-1:g}function t(a,b,c){if(!b.length)return[0,0];var d=s(a,b,c,p.gte);if(d===-1)return[b.length,0];else if(a(b[d],c)===0)return[d,1];return[d,0]}function u(a,b,c){for(var d=arguments.length,e=new Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];return[].concat(a.slice(0,b),e,a.slice(b+c))}function v(a){var c,d;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(a.readHeader(),"t0",1);case 1:c=b.t0;if(!(c==null)){b.next=7;break}return b.delegateYield(a.writeNew({isLeaf:!0,children:[],keys:[]}),"t1",4);case 4:d=b.t1;c={rootId:d,tailId:d,headId:d};return b.delegateYield(a.writeHeader(c),"t2",7);case 7:return b.abrupt("return",c);case 8:case"end":return b.stop()}},j,this)}function w(a,d,e){var f,g,h,i;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(d.readHeader(),"t0",1);case 1:f=b.t0;if(!(f==null)){b.next=4;break}throw c("unrecoverableViolation")("key not found: "+String(e),"messenger_web_product");case 4:return b.delegateYield(r(a,d,f.rootId,e),"t1",5);case 5:g=b.t1;h=g[0];i=s(a,h.keys,e,p.gte);if(!(i===-1||a(h.keys[i],e)!==0)){b.next=10;break}throw c("unrecoverableViolation")("key not found: "+String(e),"messenger_web_product");case 10:return b.abrupt("return",h.children[i]);case 11:case"end":return b.stop()}},k,this)}function x(a,c,d,e){var f,g,h,i;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(c.readHeader(),"t0",1);case 1:f=b.t0;if(!(f==null)){b.next=4;break}return b.abrupt("return",e);case 4:return b.delegateYield(r(a,c,f.rootId,d),"t1",5);case 5:g=b.t1;h=g[0];i=s(a,h.keys,d,p.gte);if(!(i===-1||a(h.keys[i],d)!==0)){b.next=10;break}return b.abrupt("return",e);case 10:return b.abrupt("return",h.children[i]);case 11:case"end":return b.stop()}},l,this)}function y(a,c,d){var e,f,g,h;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(c.readHeader(),"t0",1);case 1:e=b.t0;if(!(e==null)){b.next=4;break}return b.abrupt("return",!1);case 4:return b.delegateYield(r(a,c,e.rootId,d),"t1",5);case 5:f=b.t1;g=f[0];h=s(a,g.keys,d,p.gte);return b.abrupt("return",h!==-1&&a(g.keys[h],d)===0);case 9:case"end":return b.stop()}},m,this)}function z(a,c,d,e,f){var g,h,i,j,k,l,m,o,p,q,s,w,x,y,z,A,B,C,D;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(v(c),"t0",1);case 1:g=b.t0;h={};return b.delegateYield(r(a,c,g.rootId,e),"t1",4);case 4:i=b.t1,j=i[0],k=i[1],l=i[2],(m=t(a,j.keys,e),o=m[0],p=m[1]),(q=babelHelpers["extends"]({},j,{children:u(j.children,o,p,f),keys:p===1?j.keys:u(j.keys,o,p,e)}),s=k);case 10:if(!(q.keys.length>=d)){b.next=44;break}y=l.pop()||[{keys:[],children:[s],isLeaf:!1}];w=y[0];x=y[1];z=Math.floor(q.keys.length/2);A=void 0,B=void 0;if(!q.isLeaf){b.next=35;break}A={isLeaf:!0,children:q.children.slice(z),keys:q.keys.slice(z),nextId:q.nextId,prevId:s};return b.delegateYield(c.writeNew(A),"t2",19);case 19:B=q.nextId=b.t2;if(!A.nextId){b.next=32;break}b.t3=c;b.t4=A.nextId;b.t5=babelHelpers;b.t6={};return b.delegateYield(c.readExn(A.nextId),"t7",26);case 26:b.t8=b.t7;b.t9={prevId:B};b.t10=b.t5["extends"].call(b.t5,b.t6,b.t8,b.t9);return b.delegateYield(b.t3.write.call(b.t3,b.t4,b.t10),"t11",30);case 30:b.next=33;break;case 32:h.tailId=B;case 33:b.next=38;break;case 35:A={isLeaf:!1,children:q.children.slice(z+1),keys:q.keys.slice(z+1)};return b.delegateYield(c.writeNew(A),"t12",37);case 37:B=b.t12;case 38:C=t(a,w.keys,q.keys[z]),D=C[0];w=babelHelpers["extends"]({},w,{keys:u(w.keys,D,0,q.keys[z]),children:u(w.children,D+1,0,B)});return b.delegateYield(c.write(s,babelHelpers["extends"]({},q,{keys:q.keys.slice(0,z),children:q.children.slice(0,z+(q.isLeaf?0:1))})),"t13",41);case 41:q=w,s=x;b.next=10;break;case 44:if(!(s==null)){b.next=49;break}return b.delegateYield(c.writeNew(q),"t14",46);case 46:h.rootId=b.t14;b.next=50;break;case 49:return b.delegateYield(c.write(s,q),"t15",50);case 50:if(!Object.keys(h).length){b.next=52;break}return b.delegateYield(c.writeHeader(babelHelpers["extends"]({},g,h)),"t16",52);case 52:case"end":return b.stop()}},n,this)}function A(a,d,e,f){var g,h,i,j,k,l,m,n,q,t,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(v(d),"t0",1);case 1:g=b.t0;h={};i=Math.floor(e/2);return b.delegateYield(r(a,d,g.rootId,f),"t1",5);case 5:j=b.t1;k=j[0];l=j[1];m=j[2];n=j[3];q=s(a,k.keys,f,p.gte);if(!(q===-1||a(k.keys[q],f)!==0)){b.next=13;break}return b.abrupt("return",!1);case 13:t=babelHelpers["extends"]({},k,{keys:u(k.keys,q,1),children:u(k.children,q,1)});w=l;return b.delegateYield(d.write(w,t),"t2",16);case 16:x=n;case 17:if(!(t.keys.length<i&&m.length)){b.next=104;break}C=m.pop();y=C[0];z=C[1];A=C[2];D=[[{nodeId:y.children[x-1]},{nodeId:w,node:t},x-1],[{nodeId:w,node:t},{nodeId:y.children[x+1]},x]].filter(function(a){var b=a[0];a=a[1];return b.nodeId!==void 0&&a.nodeId!==void 0});E=D,F=Array.isArray(E),G=0,E=F?E:E[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 24:if(!F){b.next=30;break}if(!(G>=E.length)){b.next=27;break}return b.abrupt("break",58);case 27:H=E[G++];b.next=34;break;case 30:G=E.next();if(!G.done){b.next=33;break}return b.abrupt("break",58);case 33:H=G.value;case 34:I=H;J=I[0];K=I[1];L=I[2];b.t3=J.node;if(b.t3){b.next=42;break}return b.delegateYield(d.readExn(J.nodeId),"t4",41);case 41:b.t3=b.t4;case 42:J.node=b.t3;b.t5=K.node;if(b.t5){b.next=47;break}return b.delegateYield(d.readExn(K.nodeId),"t6",46);case 46:b.t5=b.t6;case 47:K.node=b.t5;if(!(J.node.keys.length+K.node.keys.length>=i*2)){b.next=56;break}t.isLeaf?(K.node=babelHelpers["extends"]({},K.node,{children:[].concat(J.node.children,K.node.children),keys:[].concat(J.node.keys,K.node.keys)}),J.node=babelHelpers["extends"]({},J.node,{children:K.node.children.splice(0,i),keys:K.node.keys.splice(0,i)}),y=babelHelpers["extends"]({},y,{keys:u(y.keys,L,1,K.node.keys[0])})):(K.node=babelHelpers["extends"]({},K.node,{children:[].concat(J.node.children,K.node.children),keys:[].concat(J.node.keys,[y.keys[L]],K.node.keys)}),J.node=babelHelpers["extends"]({},J.node,{children:K.node.children.splice(0,i+1)}),y=babelHelpers["extends"]({},y,{keys:u(y.keys,L,1,K.node.keys.splice(i,1)[0])}),J.node.keys=K.node.keys.splice(0,i));return b.delegateYield(d.write(J.nodeId,J.node),"t7",51);case 51:return b.delegateYield(d.write(K.nodeId,K.node),"t8",52);case 52:return b.delegateYield(d.write(z,y),"t9",53);case 53:if(!Object.keys(h).length){b.next=55;break}return b.delegateYield(d.writeHeader(babelHelpers["extends"]({},g,h)),"t10",55);case 55:return b.abrupt("return",!0);case 56:b.next=24;break;case 58:M=D,N=Array.isArray(M),O=0,M=N?M:M[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 59:if(!N){b.next=65;break}if(!(O>=M.length)){b.next=62;break}return b.abrupt("break",101);case 62:P=M[O++];b.next=69;break;case 65:O=M.next();if(!O.done){b.next=68;break}return b.abrupt("break",101);case 68:P=O.value;case 69:Q=P;R=Q[0];S=Q[1];T=Q[2];R.node=babelHelpers["extends"]({},R.node,{children:[].concat(R.node.children,S.node.children)});if(!t.isLeaf){b.next=92;break}R.node.keys=[].concat(R.node.keys,S.node.keys);if(!S.node.nextId){b.next=88;break}b.t11=d;b.t12=S.node.nextId;b.t13=babelHelpers;b.t14={};return b.delegateYield(d.readExn(S.node.nextId),"t15",82);case 82:b.t16=b.t15;b.t17={prevId:R.nodeId};b.t18=b.t13["extends"].call(b.t13,b.t14,b.t16,b.t17);return b.delegateYield(b.t11.write.call(b.t11,b.t12,b.t18),"t19",86);case 86:b.next=89;break;case 88:h.tailId=R.nodeId;case 89:R.node.nextId=S.node.nextId;b.next=93;break;case 92:R.node.keys=[].concat(R.node.keys,[y.keys[T]],S.node.keys);case 93:y=babelHelpers["extends"]({},y,{keys:u(y.keys,T,1),children:u(y.children,T+1,1)});if(!c("justknobx")._("672")){b.next=96;break}return b.delegateYield(d.write(z,y),"t20",96);case 96:return b.delegateYield(d.write(R.nodeId,R.node),"t21",97);case 97:return b.delegateYield(d.remove(S.nodeId),"t22",98);case 98:return b.abrupt("break",101);case 99:b.next=59;break;case 101:B=[y,z,A],t=B[0],w=B[1],x=B[2],B;b.next=17;break;case 104:return b.delegateYield(d.write(w,t),"t23",105);case 105:return b.delegateYield(d.readExn(g.rootId),"t24",106);case 106:U=b.t24;if(!(!U.keys.length&&U.children.length)){b.next=112;break}if(!U.isLeaf){b.next=110;break}throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product");case 110:return b.delegateYield(d.remove(g.rootId),"t25",111);case 111:h.rootId=U.children[0];case 112:if(!Object.keys(h).length){b.next=114;break}return b.delegateYield(d.writeHeader(babelHelpers["extends"]({},g,h)),"t26",114);case 114:return b.abrupt("return",!0);case 115:case"end":return b.stop()}},o,this)}function B(a,d,e){e=e===void 0?{}:e;var f=e.dir,g=f===void 0?"asc":f,h=babelHelpers.objectWithoutPropertiesLoose(e,["dir"]);function i(){if(g==="asc"){if(Object.prototype.hasOwnProperty.call(h,"gt"))return h.gt;else if(Object.prototype.hasOwnProperty.call(h,"gte"))return h.gte}else if(Object.prototype.hasOwnProperty.call(h,"lt"))return h.lt;else if(Object.prototype.hasOwnProperty.call(h,"lte"))return h.lte}function j(b){if(g==="asc")return Object.prototype.hasOwnProperty.call(h,"gt")?s(a,b.keys,h.gt,p.gt):Object.prototype.hasOwnProperty.call(h,"gte")?s(a,b.keys,h.gte,p.gte):0;else return Object.prototype.hasOwnProperty.call(h,"lt")?s(a,b.keys,h.lt,p.lt):Object.prototype.hasOwnProperty.call(h,"lte")?s(a,b.keys,h.lte,p.lte):b.keys.length-1}if(Object.prototype.hasOwnProperty.call(h,"gt")&&Object.prototype.hasOwnProperty.call(h,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","messenger_web_product");if(Object.prototype.hasOwnProperty.call(h,"lt")&&Object.prototype.hasOwnProperty.call(h,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","messenger_web_product");var k;return{next:b("regeneratorRuntime").mark(function e(f){var l,m,n,o,q,t,u,v,w,x,y,z,A,B,C;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:if(!(k==null)){b.next=31;break}return b.delegateYield(d.readHeader(),"t0",2);case 2:q=b.t0;if(!(q==null)){b.next=5;break}return b.abrupt("return",{done:!0});case 5:t=i();if(!(t!=null)){b.next=13;break}return b.delegateYield(r(a,d,q.rootId,t),"t1",8);case 8:u=b.t1;m=u[0];n=u[1];b.next=28;break;case 13:if(!(g==="asc")){b.next=22;break}return b.delegateYield(d.readExn(q.headId),"t2",15);case 15:b.t3=b.t2;b.t4=q.headId;v=[b.t3,b.t4];m=v[0];n=v[1];b.next=28;break;case 22:return b.delegateYield(d.readExn(q.tailId),"t5",23);case 23:b.t6=b.t5,b.t7=q.tailId,w=[b.t6,b.t7],m=w[0],n=w[1];case 28:l=j(m);b.next=64;break;case 31:x=k;l=x.i;o=x.key;n=x.nodeId;return b.delegateYield(d.read(n),"t8",36);case 36:m=b.t8;if(!(f!=null)){b.next=52;break}if(!(a(f,o)===(g==="asc"?-1:1))){b.next=40;break}throw c("unrecoverableViolation")("key must be ahead of current key","messenger_web_product");case 40:if(!(m==null||a(f,m.keys[0])<0||a(f,m.keys[m.keys.length-1])>0)){b.next=49;break}return b.delegateYield(d.readHeader(),"t9",42);case 42:y=b.t9;if(!(y==null)){b.next=45;break}return b.abrupt("return",{done:!0});case 45:return b.delegateYield(r(a,d,y.rootId,f),"t10",46);case 46:z=b.t10,m=z[0],n=z[1];case 49:l=s(a,m.keys,f,p[g==="asc"?"gte":"lte"]);b.next=64;break;case 52:if(!(m==null||l<0||l>=m.keys.length||a(m.keys[l],o)!==0)){b.next=63;break}if(!(m==null||!m.keys.length||a(o,m.keys[0])<0||a(o,m.keys[m.keys.length-1])>0)){b.next=62;break}return b.delegateYield(d.readHeader(),"t11",55);case 55:A=b.t11;if(!(A==null)){b.next=58;break}return b.abrupt("return",{done:!0});case 58:return b.delegateYield(r(a,d,A.rootId,o),"t12",59);case 59:B=b.t12,m=B[0],n=B[1];case 62:l=s(a,m.keys,o,p[g==="asc"?"lte":"gte"]);case 63:l+=g==="asc"?1:-1;case 64:if(!(l<0||l>=m.keys.length)){b.next=80;break}if(!(g==="asc")){b.next=74;break}if(!(m.nextId===void 0)){b.next=68;break}return b.abrupt("return",{done:!0});case 68:n=m.nextId;return b.delegateYield(d.readExn(n),"t13",70);case 70:m=b.t13;l=0;b.next=80;break;case 74:if(!(m.prevId===void 0)){b.next=76;break}return b.abrupt("return",{done:!0});case 76:n=m.prevId;return b.delegateYield(d.readExn(n),"t14",78);case 78:m=b.t14,l=m.keys.length-1;case 80:o=m.keys[l];k={node:m,nodeId:n,key:o,i:l};if(!(l<0||l>=m.keys.length)){b.next=84;break}return b.abrupt("return",{done:!0});case 84:C=g==="asc"?Object.prototype.hasOwnProperty.call(h,"lt")&&a(o,h.lt)>=0||Object.prototype.hasOwnProperty.call(h,"lte")&&a(o,h.lte)>0:Object.prototype.hasOwnProperty.call(h,"gt")&&a(o,h.gt)<=0||Object.prototype.hasOwnProperty.call(h,"gte")&&a(o,h.gte)<0;if(!C){b.next=87;break}return b.abrupt("return",{done:!0});case 87:return b.abrupt("return",{done:!1,value:[m.keys[l],m.children[l]]});case 88:case"end":return b.stop()}},e,this)})}}function a(a,b,c){b===void 0&&(b=32);return{get:function(b){return w(a,c,b)},getWithDefault:function(b,d){return x(a,c,b,d)},has:function(b){return y(a,c,b)},set:function(d,e){return z(a,c,b,d,e)},"delete":function(d){return A(a,c,b,d)},entries:function(b){return B(a,c,b)},clear:function(){return q(c)}}}g["default"]=a}),98);
__d("BPlusTree",["BPlusTreeBase","regeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a,d={},e=void 0,f=0;return{read:(a=b("regeneratorRuntime")).mark(function a(c){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",d[c]);case 1:case"end":return a.stop()}},a,this)}),readExn:a.mark(function a(e){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!Object.prototype.hasOwnProperty.call(d,e)){a.next=4;break}return a.abrupt("return",d[e]);case 4:throw c("unrecoverableViolation")("expected key","messenger_web_product");case 5:case"end":return a.stop()}},a,this)}),readHeader:a.mark(function a(){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",e);case 1:case"end":return a.stop()}},a,this)}),remove:a.mark(function a(c){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:delete d[c];case 1:case"end":return a.stop()}},a,this)}),removeHeader:a.mark(function a(){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:e=void 0;case 1:case"end":return a.stop()}},a,this)}),write:a.mark(function a(c,e){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:d[c]=e;case 1:case"end":return a.stop()}},a,this)}),writeHeader:a.mark(function a(c){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:e=c;case 1:case"end":return a.stop()}},a,this)}),writeNew:a.mark(function a(c){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:d[f++]=c;return a.abrupt("return",f-1);case 2:case"end":return a.stop()}},a,this)})}}function i(a){var b=a.next();while(!b.done)b=a.next(b.value);return b.value}function a(a,b){b===void 0&&(b=16);var d=c("BPlusTreeBase")(a,b,h()),e;return e={clear:function(){return i(d.clear())},"delete":function(a){return i(d["delete"](a))},entries:function(a){function b(){var c,e=d.entries(a);return c={next:function(a){return i(e.next(a))}},c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=b,c}return b()},get:function(a){return i(d.get(a))},getWithDefault:function(a,b){return i(d.getWithDefault(a,b))},has:function(a){return i(d.has(a))},set:function(a,b){i(d.set(a,b));return e}}}g["default"]=a}),98);
__d("LSDbKeyComparer",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=[[]];function i(a,b){var d=a===h,e=b===h;if(d&&e)return 0;if(d)return 1;if(e)return-1;if(a===void 0)return b===void 0?0:-1;else if(b===void 0)return 1;else if(Array.isArray(a)){if(!Array.isArray(b))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");d=a[0];e=b[0];if(d<e)return-1;if(d>e)return 1;d=a[1];e=b[1];if(d<e)return-1;if(d>e)return 1}else if(typeof a==="string"){if(typeof b!=="string")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="number"){if(typeof b!=="number")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(a instanceof Date){if(!(b instanceof Date))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="boolean"){if(typeof b!=="boolean")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(!a&&b)return-1;if(a&&!b)return 1}else throw c("unrecoverableViolation")("Unexpected type","messenger_comet");return 0}function a(a,b){for(a=a,b=b;;a=a.tl,b=b.tl){if(a===0&&b===0)return 0;if(a===0)return-1;if(b===0)return 1;var c=i(a.hd,b.hd);if(c!==0)return c}return 0}g.MAX_KEY=h;g.compareValue=i;g.compareKey=a}),98);
__d("PromiseOrValue",["isPromise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(c("isPromise")(a)&&c("isPromise")(b))return a.then(function(a){return b.then(function(b){return[a,b]})});if(c("isPromise")(a))return a.then(function(a){return[a,b]});return c("isPromise")(b)?b.then(function(b){return[a,b]}):[a,b]}function b(a,b){return c("isPromise")(a)?a.then(b):b(a)}function h(a,b){b=b;while(!0){var d=a(b);if(c("isPromise")(d))return d.then(function(b){return b.action==="break"?b.value:h(a,b.value)});if(d.action==="break")return d.value;b=d.value}throw c("unrecoverableViolation")("just for flow","messenger_web_product")}g.all2=a;g.map=b;g.loop=h}),98);
__d("ReQLBounds",["LSDbKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a?{hd:a.hd,tl:h(a.tl,b)}:b}function i(a){return h(a,{hd:d("LSDbKeyComparer").MAX_KEY,tl:0})}function j(a,b,c){if(a!=null&&b!=null)return d("LSDbKeyComparer").compareKey(a[1],b[1])*c>0?a[0]:b[0];if(a!=null)return a[0];if(b!=null)return b[0]}function a(a,b){return j((a==null?void 0:a.gt)!=null?[{gt:a.gt},i(a.gt)]:(a==null?void 0:a.gte)!=null?[{gte:a.gte},a.gte]:void 0,(b==null?void 0:b.gt)!=null?[{gt:b.gt},i(b.gt)]:(b==null?void 0:b.gte)!=null?[{gte:b.gte},b.gte]:void 0,1)}function b(a,b){return j((a==null?void 0:a.lt)!=null?[{lt:a.lt},a.lt]:(a==null?void 0:a.lte)!=null?[{lte:a.lte},i(a.lte)]:void 0,(b==null?void 0:b.lt)!=null?[{lt:b.lt},b.lt]:(b==null?void 0:b.lte)!=null?[{lte:b.lte},i(b.lte)]:void 0,-1)}function c(a,b,c){a.forEach(function(a){var e=a[0];a=a[1];var f=(e==null?void 0:e.gt)!=null?d("LSDbKeyComparer").compareKey(b,i(e.gt))>=0:(e==null?void 0:e.gte)!=null?d("LSDbKeyComparer").compareKey(b,e.gte)>0:!0;e=(e==null?void 0:e.lt)!=null?d("LSDbKeyComparer").compareKey(b,e.lt)<0:(e==null?void 0:e.lte)!=null?d("LSDbKeyComparer").compareKey(b,i(e.lte))<=0:!0;if(f&&e)return c(a)})}g.getLowerLimit=a;g.getUpperLimit=b;g.forEachMatchingBounds=c}),98);
__d("ReQLGlobalQueryContext",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){a=a.get(g);return a==null?[]:a}function b(a,b){a.set(g,b)}c={contents:void 0};f.getDependencies=a;f.setDependencies=b;f.globalQueryContext=c}),66);
__d("ReQL",["BPlusTree","LSDbKeyComparer","Promise","PromiseOrValue","ReQLBounds","ReQLGlobalQueryContext","regeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={bounds:e,filter:m,getKeyRange:n,map:p,take:t};function i(a,b){return a?{hd:a.hd,tl:i(a.tl,b)}:b}function j(a,b){b=b;a=a;while(b){if(!a)throw c("unrecoverableViolation")("unexpected end of key","messenger_web_product");b=b.tl;a=a.tl}return a}function k(a,c){try{var e=d("ReQLGlobalQueryContext").globalQueryContext.contents,f=d("ReQLGlobalQueryContext").getDependencies(c);d("ReQLGlobalQueryContext").setDependencies(c,[]);d("ReQLGlobalQueryContext").globalQueryContext.contents=c;var g,h;try{g=a(),h=d("ReQLGlobalQueryContext").getDependencies(c)}finally{d("ReQLGlobalQueryContext").setDependencies(c,f),d("ReQLGlobalQueryContext").globalQueryContext.contents=e}return[g,h]}catch(d){if(d instanceof b("Promise"))return d.then(function(){return k(a,c)});throw d}}function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduceRight(function(a,b){return{hd:b,tl:a}},0)}function e(a){var b=this;function c(a,b){if(b==null)return a;var c=d("ReQLBounds").getLowerLimit(b,a);b=d("ReQLBounds").getUpperLimit(b,a);if(c!=null&&b!=null)return babelHelpers["extends"]({},c,b);if(c!=null)return c;if(b!=null)return b}return Object.setPrototypeOf({direction:b.direction,iterator:function(d,e){return b.iterator(d,c(a,e))},keyLength:b.keyLength,subscribe:function(d,e){return b.subscribe(d,c(a,e))}},h)}var l=Object.setPrototypeOf({direction:"asc",iterator:function(){return{next:function(){return{done:!0}}}},keyLength:0,subscribe:function(){return function(){}}},h);function f(){return l}function m(a){var c=this,e=new Map();return Object.setPrototypeOf({direction:c.direction,iterator:function(b,f){var g=c.iterator(b,f);return{next:function(b){return d("PromiseOrValue").loop(function(b){return d("PromiseOrValue").map(g.next(b),function(b){if(b.done)return{action:"break",value:b};var c=b.value,f=c[0];c=c[1];if(a(c)){d("ReQLBounds").forEachMatchingBounds(e,f,function(a){a.add(JSON.stringify(f))});return{action:"break",value:b}}d("ReQLBounds").forEachMatchingBounds(e,f,function(a){a["delete"](JSON.stringify(f))});return{action:"continue",value:void 0}})},b)}}},keyLength:c.keyLength,subscribe:function(d,f){var g={},h=new Set();e.set(g,[f,h]);var i=c.subscribe(function(c,e,f){var g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:g=JSON.stringify(c);if(!(e.operation==="add"&&a(e.value))){i.next=7;break}h.add(g);i.next=5;return b("regeneratorRuntime").awrap(d(c,e,f));case 5:i.next=28;break;case 7:if(!(e.operation==="put"&&a(e.value))){i.next=18;break}if(!h.has(g)){i.next=13;break}i.next=11;return b("regeneratorRuntime").awrap(d(c,e,f));case 11:i.next=16;break;case 13:h.add(g);i.next=16;return b("regeneratorRuntime").awrap(d(c,{operation:"add",value:e.value},f));case 16:i.next=28;break;case 18:if(!(e.operation==="put"&&h.has(g))){i.next=24;break}h["delete"](g);i.next=22;return b("regeneratorRuntime").awrap(d(c,{operation:"delete"},f));case 22:i.next=28;break;case 24:if(!(e.operation==="delete"&&h.has(g))){i.next=28;break}h["delete"](g);i.next=28;return b("regeneratorRuntime").awrap(d(c,e,f));case 28:case"end":return i.stop()}},null,this)},f);return function(){e["delete"](g);return i()}}},h)}function n(){var a=this;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];var f=c.reduceRight(function(a,b){return{hd:b,tl:a}},0);function g(a){return a.gt!=null?{gt:i(f,a.gt)}:{gte:i(f,a.gte)}}function k(a){return a.lt!=null?{lt:i(f,a.lt)}:{lte:i(f,a.lte)}}function l(a){return a==null?{gte:f,lte:f}:babelHelpers["extends"]({},a.gte!=null||a.gt!=null?g(a):{gte:f},a.lte!=null||a.lt!=null?k(a):{lte:f})}return Object.setPrototypeOf({direction:a.direction,iterator:function(b,c){var e=a.iterator(b,l(c));return{next:function(a){return d("PromiseOrValue").map(e.next(a==null?a:i(f,a)),function(a){return a.done?{done:!0}:{done:!1,value:[j(a.value[0],f),a.value[1]]}})}}},keyLength:a.keyLength-c.length,subscribe:function(b,c){return a.subscribe(function(a,c,d){return b(j(a,f),c,d)},l(c))}},h)}function o(a,e){if(a.direction!==e.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","messenger_web_product");return Object.setPrototypeOf({direction:a.direction,iterator:function(b,f){var g=a.iterator(b,f),h=e.iterator(b,f),i=h.next();function j(a){return d("PromiseOrValue").map(i,function(b){var c=b.done?!0:d("LSDbKeyComparer").compareKey(a,b.value[0])<=0;c=c?b:h.next(a);i=c;return c})}return{next:function(a){return d("PromiseOrValue").map(g.next(a),function(a){if(a.done)return{done:!0,value:void 0};var b=a.value;b=b[0];return d("PromiseOrValue").map(j(b),function(b){var e=a.value,f=e[0];e=e[1];if(b.done)return{done:!1,value:[f,[e,void 0]]};b=b.value;var g=b[0];b=b[1];g=d("LSDbKeyComparer").compareKey(f,g);if(g>0)throw c("unrecoverableViolation")("Right iterable should always be equal to or ahead","messenger_web_product");else if(g<0)return{done:!1,value:[f,[e,void 0]]};else return{done:!1,value:[f,[e,b]]}})})}}},keyLength:Math.max(a.keyLength,e.keyLength),subscribe:function(c,d){var f=!0,g=a.subscribe(function(a,d,g){var h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(e.iterator(g,{gte:a,lte:a}).next());case 2:j=k.sent;if(f){k.next=5;break}return k.abrupt("return");case 5:k.next=7;return b("regeneratorRuntime").awrap(c(a,d.operation==="add"?{operation:"add",value:[d.value,(h=j.value)==null?void 0:h[1]]}:d.operation==="put"?{operation:"put",value:[d.value,(i=j.value)==null?void 0:i[1]]}:{operation:"delete"},g));case 7:case"end":return k.stop()}},null,this)},d),h=e.subscribe(function(d,e,g){var h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(a.iterator(g,{gte:d,lte:d}).next());case 2:h=i.sent;if(!(!f||h.done)){i.next=5;break}return i.abrupt("return");case 5:i.next=7;return b("regeneratorRuntime").awrap(c(d,e.operation==="add"?{operation:"add",value:[h.value[1],e.value]}:e.operation==="put"?{operation:"put",value:[h.value[1],e.value]}:{operation:"delete"},g));case 7:case"end":return i.stop()}},null,this)},d);return function(){f=!1,g(),h()}}},h)}function p(a){var c=this,e=new Map();function f(c,d,e,f,h){var i=JSON.stringify(e),j=c.get(i);j==null&&(j=[],c.set(i,j));j.forEach(function(a){return a()});j.length=0;var k=j;h.forEach(function(h){k.push(h.subscribe(function(h,i,j){return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(g(c,d,e,f,j));case 2:h.next=4;return b("regeneratorRuntime").awrap(d(e,{operation:"put",value:a(f)},j));case 4:case"end":return h.stop()}},null,this)}))})}function g(b,c,e,g,h){return d("PromiseOrValue").map(k(function(){return a(g)},h),function(a){var d=a[0];a=a[1];f(b,c,e,g,a);return d})}function i(a,b){var c=JSON.stringify(b);if(!a.has(c))return;b=(b=a.get(JSON.stringify(b)))!=null?b:[];b.forEach(function(a){return a()});b.length=0;a["delete"](c)}return Object.setPrototypeOf({direction:c.direction,iterator:function(b,g){var h=c.iterator(b,g);return{next:function(c){return d("PromiseOrValue").map(h.next(c),function(g){if(g.done)return g;g=g.value;var c=g[0],h=g[1];return d("PromiseOrValue").map(d("PromiseOrValue").map(k(function(){return a(h)},b),function(a){var b=a[0],g=a[1];d("ReQLBounds").forEachMatchingBounds(e,c,function(a){var b=a[0];a=a[1];return f(b,a,c,h,g)});return b}),function(a){return{done:!1,value:[c,a]}})})}}},keyLength:c.keyLength,subscribe:function(d,f){var h={},j=new Map();e.set(h,[f,[j,d]]);var k=c.subscribe(function(c,e,f){var h,k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.operation==="delete")){n.next=6;break}i(j,c);n.next=4;return b("regeneratorRuntime").awrap(d(c,e,f));case 4:n.next=24;break;case 6:if(!(e.operation==="add")){n.next=16;break}h=e.value;n.next=10;return b("regeneratorRuntime").awrap(g(j,d,c,h,f));case 10:k=n.sent;a(h);n.next=14;return b("regeneratorRuntime").awrap(d(c,{operation:"add",value:k},f));case 14:n.next=24;break;case 16:if(!(e.operation==="put")){n.next=24;break}l=e.value;n.next=20;return b("regeneratorRuntime").awrap(g(j,d,c,l,f));case 20:m=n.sent;a(l);n.next=24;return b("regeneratorRuntime").awrap(d(c,{operation:"put",value:m},f));case 24:case"end":return n.stop()}},null,this)},f);return function(){j.forEach(function(a){a.forEach(function(a){return a()})}),e["delete"](h),k()}}},h)}function q(a,b){var c=r(a,b);for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return e.reduce(function(a,b){return r(a,b)},c)}function r(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("union requires iterables to be sorted in the same direction","messenger_web_product");var e=Math.max(a.keyLength,b.keyLength);function f(a,b){return b===0||a===0?0:{hd:a.hd,tl:f(a.tl,b-1)}}function g(a){return a.gt!=null?{gt:f(a.gt,e)}:{gte:f(a.gte,e)}}function j(a){return a.lt!=null?{lt:f(a.lt,e)}:{lte:f(a.lte,e)}}function k(a){return a==null?void 0:babelHelpers["extends"]({},a.gte!=null||a.gt!=null?g(a):{},a.lte!=null||a.lt!=null?j(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(c,g){var h=a.iterator(c,k(g)),j=b.iterator(c,k(g)),l=h.next(),m=j.next();return{next:function(b){b!==void 0&&(l=h.next(f(b,e)),m=j.next(f(b,e)));return d("PromiseOrValue").map(d("PromiseOrValue").all2(l,m),function(b){var c=b[0];b=b[1];function e(a,b){if(a.done)return{done:!0};a={done:!1,value:[i(a.value[0],{hd:b,tl:0}),a.value[1]]};b?l=h.next():m=j.next();return a}if(c.done)return e(b,!1);if(b.done)return e(c,!0);var f=a.direction==="asc"?[c,b]:[b,c],g=f[0];f=f[1];f=d("LSDbKeyComparer").compareKey((g=g.value)==null?void 0:g[0],(g=f.value)==null?void 0:g[0]);if(f<0)return e(c,!0);else return e(b,!1)})}}},keyLength:e+1,subscribe:function(c,d){var e=a.subscribe(function(a,b,d){return c(i(a,{hd:!0,tl:0}),b,d)},d),f=b.subscribe(function(a,b,d){return c(i(a,{hd:!1,tl:0}),b,d)},d);return function(){e(),f()}}},h)}function s(a,e){if(a.direction!==e.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","messenger_web_product");return Object.setPrototypeOf({direction:a.direction,iterator:function(b,c){var f=a.iterator(b,c),g=e.iterator(b,c);function h(a){return d("PromiseOrValue").loop(function(a){var b=a[0];a=a[1];if(b.done||a.done)return{action:"break",value:{done:!0}};var c=b.value,e=c[0];c=c[1];var h=a.value,i=h[0];h=h[1];var j=d("LSDbKeyComparer").compareKey(e,i);if(j>0)return d("PromiseOrValue").map(d("PromiseOrValue").all2(b,g.next(e)),function(a){return{action:"continue",value:a}});else if(j<0)return d("PromiseOrValue").map(d("PromiseOrValue").all2(f.next(i),a),function(a){return{action:"continue",value:a}});return{action:"break",value:{done:!1,value:[e,[c,h]]}}},a)}return{next:function(a){return d("PromiseOrValue").map(d("PromiseOrValue").all2(f.next(a),g.next(a)),h)}}},keyLength:Math.max(a.keyLength,e.keyLength),subscribe:function(c,d){var f=!0;function g(a,d,e,g,h){var i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:l.next=2;return b("regeneratorRuntime").awrap(a.iterator(h,{gte:e,lte:e}).next());case 2:i=l.sent;if(!(i.done||!f)){l.next=5;break}return l.abrupt("return");case 5:j=i.value[1];k=g.operation==="add"?{operation:"add",value:d(g.value,j)}:g.operation==="put"?{operation:"put",value:d(g.value,j)}:g;l.next=9;return b("regeneratorRuntime").awrap(c(e,k,h));case 9:case"end":return l.stop()}},null,this)}var h=a.subscribe(function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.apply(void 0,[e,function(a,b){return[a,b]}].concat(b))},d),i=e.subscribe(function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return g.apply(void 0,[a,function(a,b){return[b,a]}].concat(c))},d);return function(){f=!1,h(),i()}}},h)}function t(a){var e=this,f=new Map();return Object.setPrototypeOf({direction:e.direction,iterator:function(b,c){var g=e.iterator(b,c),h=0;return{next:function(b){if(h>=a)return{done:!0};else return d("PromiseOrValue").map(g.next(b),function(b){b.done||d("ReQLBounds").forEachMatchingBounds(f,b.value[0],function(c){var d=c[0];c=c[1];c.contents<=a&&(d.has(b.value[0])||(c.contents+=1,d.set(b.value[0],void 0)))});h+=1;return b})}}},keyLength:e.keyLength,subscribe:function(g,h){var i={},j=e.direction==="asc"?1:-1,k=c("BPlusTree")(function(a,b){return d("LSDbKeyComparer").compareKey(a,b)*-j}),l={contents:0};f.set(i,[h,[k,l]]);var m=e.subscribe(function(c,h,m){var n,o,p,q;return b("regeneratorRuntime").async(function(r){while(1)switch(r.prev=r.next){case 0:o=(n=k.entries().next().value)==null?void 0:n[0];p=o==null?!0:d("LSDbKeyComparer").compareKey(c,o)*j<=0;if(!(h.operation==="delete"&&p)){r.next=19;break}if(!(l.contents>0)){r.next=7;break}k["delete"](c);r.next=7;return b("regeneratorRuntime").awrap(g(c,h,m));case 7:r.next=9;return b("regeneratorRuntime").awrap(e.iterator(m,o==null?void 0:j===1?{gt:o}:{lt:o}).next());case 9:q=r.sent;if(!(!q.done&&f.has(i))){r.next=16;break}k.set(q.value[0],void 0);r.next=14;return b("regeneratorRuntime").awrap(g(q.value[0],{operation:"add",value:q.value[1]},m));case 14:r.next=17;break;case 16:l.contents>0&&(l.contents-=1);case 17:r.next=39;break;case 19:if(!(h.operation==="add"&&l.contents<a)){r.next=26;break}l.contents+=1;k.set(c,void 0);r.next=24;return b("regeneratorRuntime").awrap(g(c,h,m));case 24:r.next=39;break;case 26:if(!(h.operation==="add"&&p)){r.next=36;break}if(!(o!=null)){r.next=31;break}k["delete"](o);r.next=31;return b("regeneratorRuntime").awrap(g(o,{operation:"delete"},m));case 31:k.set(c,void 0);r.next=34;return b("regeneratorRuntime").awrap(g(c,h,m));case 34:r.next=39;break;case 36:if(!(h.operation==="put"&&p)){r.next=39;break}r.next=39;return b("regeneratorRuntime").awrap(g(c,h,m));case 39:case"end":return r.stop()}},null,this)},h);return function(){f["delete"](i);return m()}}},h)}function u(a){return Object.setPrototypeOf({direction:"asc",iterator:function(b,c){return a.entries(b,"asc",c)},keyLength:a.keyLength,subscribe:a.subscribe},h)}function v(a){return Object.setPrototypeOf({direction:"desc",iterator:function(b,c){return a.entries(b,"desc",c)},keyLength:a.keyLength,subscribe:a.subscribe},h)}function w(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=[];d=a.iterator(new WeakMap());f.next=4;return b("regeneratorRuntime").awrap(d.next());case 4:e=f.sent;case 5:if(e.done){f.next=12;break}c.push(e.value[1]);f.next=9;return b("regeneratorRuntime").awrap(d.next());case 9:e=f.sent;f.next=5;break;case 12:return f.abrupt("return",c);case 13:case"end":return f.stop()}},null,this)}function x(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=a.iterator(new WeakMap());e.next=3;return b("regeneratorRuntime").awrap(c.next());case 3:d=e.sent;if(!d.done){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.abrupt("return",d.value[1]);case 7:case"end":return e.stop()}},null,this)}function y(a){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=a.iterator(new WeakMap());f.next=3;return b("regeneratorRuntime").awrap(d.next());case 3:e=f.sent;if(!e.done){f.next=6;break}throw c("unrecoverableViolation")("expected result","messenger_web_product");case 6:return f.abrupt("return",e.value[1]);case 7:case"end":return f.stop()}},null,this)}g.prototype=h;g.key=a;g.empty=f;g.leftJoin=o;g.union=q;g.mergeJoin=s;g.fromTableAscending=u;g.fromTableDescending=v;g.toArrayAsync=w;g.firstAsync=x;g.firstExnAsync=y}),98);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string",tableName:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"?null:{data:e,indexName:a.indexName,tableName:a.tableName}}function b(a,b){if(a==null)return!0;if(a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}function d(a){return{indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName}}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("MWChatTabEntryPoints.bs",[],(function(a,b,c,d,e,f){"use strict";a={};f.tabEntryPoints=a}),66);
__d("MessengerWebEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD_PARTICIPANTS:"add_participants",BIRTHDAYS:"birthdays",CHAT_HEADS:"chat_heads",CHAT_HEADS_OVERFLOW:"chat_heads_overflow",CHAT_SEARCH:"chat_search",CHAT_WITH_SIDEBAR:"chat_with_sidebar",COMMUNITY_HELP:"community_help",COMPAT:"compat",COOKIE:"cookie",CREATE_GROUP_DIALOG:"create_group_dialog",CRISIS_LISTING_ATTACHMENT:"crisis_listing_attachment",EVENTS_PERMALINK:"events_permalink",FEED_POLL:"feed_poll",FEED_STORY_CTA:"feed_story_cta",FILES_TAB:"files_tab",FRIENDS_TAB:"friends_tab",FUNDRAISER:"fundraiser",FUNDRAISER_SUPPORT_REACTIVE_FAQ:"fundraiser_support:reactive_faq",FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU:"fundraiser_support:reactive_more_menu",FUNDRAISER_SUPPORTERS_LIST:"fundraiser_supporters_list",GRATITUDE:"gratitude",GROUP_CHATS:"group_chats",GROUP_EXPERTS_DISCOVERY_INVITE:"group_experts_discovery_invite",GROUP_MEMBERS_TAB:"group_members_tab",GROUP_QUALITY:"group_quality",GROUP_REMOVE_POST_TOMBSTONE:"group_remove_post_tombstone",GROUP_WELCOME_POST:"group_welcome_post",HOVERCARD:"hovercard",INBOX:"inbox",INBOX_TRAY:"inbox_tray",JEWEL:"jewel",JEWEL_NEW_MESSAGE:"jewel_new_message",JEWEL_SEARCH:"jewel_search",JOBS:"jobs",LINKS_TAB:"links_tab",LOCAL_BUSINESSES_NEARBY:"local_businesses_nearby",LWI_SUPPORT_BUTTON:"lwi_support_button",MARKETPLACE:"marketplace",MEDIA_TAB:"media_tab",MEMORIES_HOME:"memories_home",MENTAL_HEALTH:"mental_health",MENTORSHIP:"mentorship",MESSAGE_RECEIVED:"message_received",MUTUAL_FRIENDS_DIALOG:"mutual_friends_dialog",NEW_MESSAGE_BUTTON:"new_msg_button",OFFER:"offer",P2P_PAYMENTS:"p2p_payments",PAGES_ABOUT:"pages_about",PAGES_ADMIN_INVITE_ITEM:"pages_admin_invite_item",PAGES_COMMENT_COMPOSER:"pages_comment_composer",PAGES_COMMUNITY_FRIENDS_DIALOG:"pages_community_friends_dialog",PAGES_CTA:"pages_cta",PAGES_DISCOVER_SUGGESTED_PAGE:"pages_discover_suggested_page",PAGES_HEADER:"pages_header",PAGES_HOME_FRIENDS_DIALOG:"pages_home_friends_dialog",PAGES_HOVERCARD:"pages_hovercard",PAGES_LIKE_INVITE_ITEM:"pages_like_invite_item",PAGES_POPUP_CHAT:"pages_popup_chat",PAGES_PRIVATE_REPLY:"pages_private_reply",POPUP_CHAT_BOX:"popup_chat_box",PROFILE_SERVICES_MENU:"profile_services_menu",REACTOR_LIST:"reactor_list",RESHARES_DIALOG:"reshares_dialog",RHC_SEARCH:"rhc_search",RHC_SEARCH_ICON:"rhc_search_icon",ROOMS_LOBBY:"rooms_lobby",ROOMS_NULL_STATE:"rooms_null_state",SEARCH:"search",SEARCH_RESULT_PAGE:"search_result_page",SHOP:"shop",SIDEBAR:"sidebar",STORIES_VIEWED_BY_LIST:"stories_viewed_by_list",STORY_AGGREGATED_USERS:"story_aggregated_users",STORY_SEEN_BY_LIST:"story_seen_by_list",THREAD_DETAILS:"thread_details",TIMELINE:"timeline",UICE:"uice",UNKNOWN:"unknown",VOLUNTEERING:"volunteering",WORK_SHIFT_SWAP:"work_shift_swap"});f["default"]=a}),66);
__d("MessengerWebEntryPointsUtil.bs",["MessengerWebEntryPoint"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return c("MessengerWebEntryPoint").jobs;else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="pageLikeChaining")return c("MessengerWebEntryPoint").PAGE_LIKE_CHAINING;else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="gratitude")return"gratitude";else return"unknown"}function b(a){if(a==="inboxThreadList")return!0;else return a==="jewel"}g.cast=a;g.getEntryPointHasGroupNameAsThreadSnippet=b}),98);
__d("MWChatLogOpenChatTab.bs",["MWChatTabEntryPoints.bs","MessengerWebEntryPointsUtil.bs","MessengerWebEventsFalcoEvent","ODS"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=a!==void 0?a:!1;b("ODS").bumpEntityKey(3185,"mwchat_tab","open_user");var g=b("MessengerWebEntryPointsUtil.bs").cast(d);b("MWChatTabEntryPoints.bs").tabEntryPoints[c]=g;return b("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:g,event_name:"open_chat_tab",is_secured:f,other_user_fbid:f?null:c}})}function c(a,c,d){var e=a!==void 0?a:!1;b("ODS").bumpEntityKey(3185,"mwchat_tab","open_group");var f=b("MessengerWebEntryPointsUtil.bs").cast(d);b("MWChatTabEntryPoints.bs").tabEntryPoints[c]=f;return b("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:e,thread_fbid:e?null:c}})}function d(a,c,d,e){var f=a!==void 0?a:!1;b("ODS").bumpEntityKey(3185,"mwchat_tab","open_page");var g=b("MessengerWebEntryPointsUtil.bs").cast(d);b("MWChatTabEntryPoints.bs").tabEntryPoints[c]=g;return b("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:g,event_name:"open_chat_tab",is_secured:f,other_user_fbid:f?null:c}})}f.logOpenUserTab=a;f.logOpenGroupTab=c;f.logOpenPageTab=d}),null);
__d("MAWGating",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(c("gkx")("1224637")!==!0)if(c("qex")._("1506")===!0)return!0;else return c("qex")._("155")===!0;else return!1}function b(){return c("qex")._("607")===!0}function d(){if(c("qex")._("1513")===!0)return!0;else return c("qex")._("155")===!0}function e(){return c("qex")._("287")===!0||c("gkx")("1262")}function f(){if(c("qex")._("1514")===!0)return!0;else return c("qex")._("155")===!0}function h(){return c("qex")._("354")}function i(){if(c("qex")._("1515")===!0)return!0;else return c("qex")._("408")===!0}function j(){return c("qex")._("1516")===!0}function k(){if(c("gkx")("6172"))return c("qex")._("699")===!0;else return!1}function l(){if(c("gkx")("6172"))return c("gkx")("956");else return!1}function m(){if(c("gkx")("6187"))return c("qex")._("700")===!0;else return!1}function n(){if(c("gkx")("6187"))return c("gkx")("956");else return!1}function o(){if(c("qex")._("1520")===!0)return!0;else return c("qex")._("155")===!0}function p(){return c("qex")._("205")===!0}function q(){return c("gkx")("4470")}function r(){return c("gkx")("7348")}function s(){return c("qex")._("899")===!0}function t(){return c("qex")._("588")===!0}function u(){return c("qex")._("50")===!0}function v(){return c("gkx")("8220")}function w(){return c("qex")._("1672")===!0}function x(){return c("qex")._("1526")===!0}function y(){return c("qex")._("386")===!0}function z(){return c("qex")._("1527")===!0}var A=c("gkx")("4725");function B(){return c("qex")._("1528")===!0}function C(){return c("qex")._("1529")===!0}function D(){return c("gkx")("3890")||c("qex")._("923")===!0}function E(){return c("gkx")("6551")&&c("gkx")("4471")&&c("gkx")("4463")}function F(){if(c("qex")._("1530")===!0)return!0;else return c("qex")._("155")===!0}function G(){return c("qex")._("1532")===!0}function H(){return c("qex")._("1533")===!0}function I(){return c("qex")._("1534")===!0}function J(){if(c("qex")._("189")===!0)return!0;else return c("qex")._("155")===!0}function K(){return c("qex")._("729")===!0}function L(){return c("qex")._("883")===!0}function M(){return c("qex")._("1536")===!0}function N(){if(c("qex")._("68")===!0)return!0;else return c("qex")._("310")===!0}function O(){if(c("qex")._("77")===!0||c("qex")._("68")===!0)return!0;else return c("qex")._("1264")===!0}function P(){return c("qex")._("963")===!0}function Q(){return c("qex")._("981")===!0}function R(){if(c("qex")._("1746")===!0&&c("qex")._("160")===!0)return!0;else return c("qex")._("987")===!0&&c("qex")._("1059")===!0}function S(){if(c("qex")._("364")===!0&&c("qex")._("160")===!0)return!0;else return c("qex")._("369")===!0}function T(){return c("qex")._("1763")===!0}function U(){return c("qex")._("1091")===!0}var V=c("gkx")("5834");function W(){return c("qex")._("351")===!0}function X(){return c("qex")._("114")===!0}function Y(){return c("qex")._("1113")===!0}function Z(){return c("qex")._("323")===!0}function aa(){return c("gkx")("6581")}function ba(){return c("qex")._("542")===!0}function ca(){return c("gkx")("3883")}function da(){return c("gkx")("8355")}var ea=c("gkx")("1115");function fa(){return c("gkx")("964")}function ga(){return c("gkx")("4169")}function ha(){return c("gkx")("4662")}function ia(){return c("qex")._("1126")===!0}function ja(){return c("qex")._("1127")===!0}function ka(){return c("gkx")("6464")}function la(){return c("qex")._("133")===!0}function ma(){return c("qex")._("1306")===!0}function na(){return c("qex")._("342")===!0}function oa(){return c("gkx")("6940")}function pa(){return c("qex")._("411")===!0}function qa(){return c("qex")._("1210")===!0}function ra(){return c("qex")._("598")===!0}function sa(){return c("qex")._("1396")===!0}function ta(){return c("gkx")("4483")}function ua(){return c("gkx")("7252")}function va(){return c("qex")._("1268")===!0}function wa(){return c("qex")._("1228")===!0}function xa(){return c("qex")._("1766")===!0}function ya(){return c("qex")._("1766")===!0}function za(){return c("gkx")("3383")}function Aa(){return c("qex")._("1229")===!0}function Ba(){return c("qex")._("1245")===!0}function Ca(){return c("qex")._("681")}function Da(){return c("qex")._("1258")===!0}function Ea(){return c("gkx")("8239")}function Fa(){return c("gkx")("8350")}function Ga(){if(c("gkx")("5884"))return!0;else return c("qex")._("302")===!0}function Ha(){return c("gkx")("4214")}function Ia(){return c("gkx")("8457")}function Ja(){return c("gkx")("1573")}function Ka(){return c("gkx")("7935")}function La(){return c("gkx")("1901")}function Ma(){return c("qex")._("416")===!0}function Na(){return c("qex")._("55")===!0}function Oa(){return!$()&&c("gkx")("6096")}function $(){return c("qex")._("294")===!0||c("gkx")("5534")}function Pa(){return c("qex")._("235")===!0}function Qa(){return c("gkx")("5653")}function Ra(){return c("gkx")("7831")}function Sa(){return c("gkx")("6233")}function Ta(){return c("qex")._("237")===!0}function Ua(){return c("qex")._("263")===!0}function Va(){return c("gkx")("5223")}function Wa(){return c("gkx")("6147")}function Xa(){return c("gkx")("678680")}function Ya(){return c("gkx")("4801")}g.isArmadillo=a;g.isTlcSearchEnabled=b;g.isGifEnabled=d;g.enableRawStanzaQueueStore=e;g.isStickerEnabled=f;g.getArmadilloDbVersion=h;g.wellBeingFeaturesEnabled=i;g.isEphemeralMessagesEnabled=j;g.isOneToOneDualSendTextEnabled=k;g.isOneToOneDualSendMediaEnabled=l;g.isGroupDualSendTextEnabled=m;g.isGroupDualSendMediaEnabled=n;g.isForwardEnabled=o;g.isCrossForwardEnabled=p;g.isVaultingEnabled=q;g.isPullModeEnabled=r;g.isBulkGroupEncEnabled=s;g.isFeatureLimitEnabled=t;g.isCustomReactionsEnabled=u;g.isDbCleanupEnabled=v;g.isICDCHTTPRegEnabled=w;g.isICDCEnabled=x;g.isICDCErrorEnabled=y;g.isClientTimeoutsEnabled=z;g.isOptedOutOfTimeouts=A;g.isUnsendGlobalEnabled=B;g.isUnsendLocallyEnabled=C;g.isOccamadillo=D;g.isOccamadilloResumeSyncEnabled=E;g.isEncryptionAtRestEnabled=F;g.isBlockEnabled=G;g.isRestrictEnabled=H;g.isReactionsCleanerEnabled=I;g.isRepliesEnabled=J;g.isSearchEnabled=K;g.isContentSearchEnabled=L;g.isAppSyncDeleteThreadEnabled=M;g.isThreadLevelCutoverEnabled=N;g.isXMAFeedPostShareEnabled=O;g.isLabyrinthOnWebEnabled=P;g.isUploadFlowEnabled=Q;g.isXMABackupEnabled=R;g.isReuploadOfPendingStanzasEnabled=S;g.isAttachmentBackupEnabled=T;g.isGroupInvitesEnabled=U;g.isArmadilloMessageSortedOrderChanged=V;g.isHotLikeEnabled=W;g.isPushNotificationEnabled=X;g.isPinCodeEnabled=Y;g.isPinCodeAccessibleInputEnabled=Z;g.isGDriveIntegrationEnabled=aa;g.isMobileExternalIdFormatEnabled=ba;g.isWebErrorStateM2Enabled=ca;g.isBulkifyHIMEnabled=da;g.isInitSyncApiImprovementsEnabled=ea;g.isSenderKeyPredistributionEnabled=fa;g.isPreEstablishSessionEnabled=ga;g.isSmartSenderKeyRotationEnabled=ha;g.isLegacyThreadUploadEnabled=ia;g.isDyiEnabled=ja;g.isArmadilloTotalMessageCollectionEnabled=ka;g.shouldDisplayWeakPinPromptForEBSetup=la;g.isVirtualDeviceRevocationFlowEnabled=ma;g.isDeviceAdminMessagesSnippetDisabled=na;g.isBulkContactUpdateEnabled=oa;g.isQrCodeEnabled=pa;g.isRetroactiveBackupsEnabled=qa;g.isRetroactiveBackupsAttachmentsEnabled=ra;g.isRetroactiveBackupsRetriesEnabled=sa;g.isDetailedHandleIncomingMsgQPLEnabled=ta;g.isBatchLoadParticipantsEnabled=ua;g.isFrankingEnabled=va;g.isEbEnabledOnIg=wa;g.isCodeOnlyInitEnabled=xa;g.isCodeOnlyWorkerEnabled=ya;g.isSecurityToggleForDFEnabled=za;g.isOnboardingFlowEnabled=Aa;g.isRestoreFlowEnabled=Ba;g.getOrchestratorVersion=Ca;g.isUserPartOfEncryptedBackupDebugging=Da;g.isTlcPublicUser=Ea;g.isDownloadablePreviewsEnabled=Fa;g.isVoiceClipEnabled=Ga;g.isJpegThumbnailOverChatdDisabled=Ha;g.isForceNonPersistedJobsEnable=Ia;g.shouldPreloadSessions=Ja;g.isChatWithYourselfEnabled=Ka;g.isCMCDMessengerWebEnabled=La;g.isEncryptedBackupsUploadTrackingEnabled=Ma;g.isMediaBackupTableEnabled=Na;g.isMAWLoggerDisabled=Oa;g.isFlushingLogsFromWorkerInBulkEnabled=$;g.isSpamFetchEnabled=Pa;g.isUseridAnnotationEnabled=Qa;g.enableStanzaQueueChatProcessing=Ra;g.isPersistedEBTableEnabled=Sa;g.isRavenMessagesEnabled=Ta;g.isMessageTimestampExperiment=Ua;g.isDocumentEnabled=Va;g.isOccamadilloReadReceiptsEnabled=Wa;g.isEmployee=Xa;g.isErrDuplicateMsgDetectEnabled=Ya}),98);
__d("LSBitFlag.bs",["bs_caml","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("bs_caml").i64_eq(c("bs_caml_int64").and_(b,a),a)}function b(a,b){return c("bs_caml_int64").or_(b,a)}function d(a,b){return c("bs_caml_int64").and_(b,c("bs_int64").lognot(a))}g.has=a;g.set=b;g.clear=d;g.empty=c("bs_caml_int64").zero}),98);
__d("LSDbKeyComparer.bs",["LSDbKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";g.cmp=d("LSDbKeyComparer").compareKey,g.maxKey=d("LSDbKeyComparer").MAX_KEY}),98);
__d("LockManager",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Exclusive:"exclusive",Shared_NOT_IMPLEMENTED:"shared"});f.LockMode=a}),66);
__d("MWDetectDbSupport",["ExecutionEnvironment","FBLogger","LSPlatformLsInitLog","LockManager","MAWGating","MWLSDatabaseNames","Promise","clearTimeout","justknobx","regeneratorRuntime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=(h=window)==null?void 0:h.indexedDB)!=null?h:(h=self)==null?void 0:h.indexedDB,j="__ensure_db",k,l=!1;h=new(b("Promise"))(function(a,b){if(!c("ExecutionEnvironment").canUseDOM){a(!1);return}if(c("justknobx")._("45")===!1){a(!0);return}if(l){a(!0);return}if(i==null){c("FBLogger")("messenger_web_product").warn("[indexedDB check] Not supported, indexedDB was null");a(!1);return}if(typeof i.databases==="function"){b=i.databases();b.then(function(b){b.forEach(function(b){b=b.name||"";b.includes(d("MWLSDatabaseNames").lightspeedPrefix)&&(l=!0,d("LSPlatformLsInitLog").addPoint("check_indexeddb"),a(!0))})})["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("[indexedDB check] IndexedDB error in getting databases")})}var e=i.open(j);if(!e){c("FBLogger")("messenger_web_product").warn("[indexedDB check] IndexedDB unable to open new database");a(!1);return}e.onsuccess=function(){l=!0,d("LSPlatformLsInitLog").addPoint("check_indexeddb"),a(!0)};e.onerror=function(){c("FBLogger")("messenger_web_product").catching(e.error).warn("[indexedDB check] IndexedDB onerror when opening db"),a(!1)}});var m=function(){try{if(l&&i!=null){var a=i.deleteDatabase(j);a.onerror=function(){c("FBLogger")("messenger_web_product").mustfix("[indexedDB check] IndexedDB cannot delete db")}}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("[indexedDB check] IndexedDB deleteDb error")}},n=function(){k!=null&&c("clearTimeout")(k),m()};h.then(n,n);var o=b("Promise").race([h,new(b("Promise"))(function(a){k!=null&&c("clearTimeout")(k),k=c("setTimeout")(function(){a(!1)},1e4)})])["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("[indexedDB check] MWDetectDbSupport timeout error");return!1}),p=function(){var a,c,e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(o);case 2:e=h.sent;if(e){h.next=5;break}return h.abrupt("return",!1);case 5:f=d("MAWGating").isArmadillo()||d("MAWGating").isTlcPublicUser();g=(a=window)==null?void 0:(c=a.navigator)==null?void 0:c.locks;if(!(g&&!f)){h.next=12;break}h.next=10;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){g.request("single-instance-pdb",{ifAvailable:!0,mode:d("LockManager").LockMode.Exclusive},function(c){if(c==null)a(!1);else{a(!0);return new(b("Promise"))(function(){})}})}));case 10:if(h.sent){h.next=12;break}return h.abrupt("return",!1);case 12:if(!(g==null)){h.next=14;break}return h.abrupt("return",!1);case 14:return h.abrupt("return",!0);case 15:case"end":return h.stop()}},null,this)}();function a(){return l}function e(){return p}function f(){return o}g.isDBCreated=a;g.isIndexedDbSupported=e;g.isIndexedDbSupportedNoTabRestrictions=f}),98);
__d("LSPlatformErrorChannel",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h="onLSError",i=new(c("BaseEventEmitter"))();function a(a){i.emit(h,a)}function b(a){var b=i.addListener(h,a);return function(){return b.remove()}}g.emit=a;g.subscribe=b}),98);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],messages:[{indexName:"fk_messages",tableName:"attachments"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"}]};b=a;f["default"]=b}),66);
__d("LSMetadata",["LSDbForeignKeys","LSTableSchemas","ReStoreDefaultValuesMetadata","ReStoreIndexMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={},e={},f=-1;for(var g=0;g<a.length;g++){var h=a[g];for(var h=h,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k,l;if(i){if(j>=h.length)break;l=h[j++]}else{j=h.next();if(j.done)break;l=j.value}l=l;k={autoIncrement:(k=l.auto_increment)!=null?k:!1,cascadeUpdates:(k=c("LSDbForeignKeys")[l.name])!=null?k:[],id:parseInt(l.id,10),indexes:(k=l.indexes)!=null?k:{},name:l.name,primaryKeyIds:l.primary_key};b[k.id]=k;e[k.name]=k;k.id>f&&(f=k.id)}}l={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]};b[l.id]=l;e[l.name]=l;k={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]};b[k.id]=k;e[k.name]=k;return{tableIds:b,tableNames:e}}function a(a){a=h(a);var b=a.tableIds;a=a.tableNames;return{tableIds:b,tableNames:a}}b=a(c("LSTableSchemas"));g.buildTableData=h;g.buildMetadata=a;g.metadata=b}),98);
__d("LSDatabaseProviderType",["FBLogger","LSPersistedDbGating","MWDetectDbSupport","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:if(!(h!==null)){c.next=2;break}return c.abrupt("return",h);case 2:if(d("LSPersistedDbGating").allTablesPersisted){c.next=5;break}h="ephemeral";return c.abrupt("return",h);case 5:c.next=7;return b("regeneratorRuntime").awrap(d("MWDetectDbSupport").isIndexedDbSupported());case 7:a=c.sent;a?h="persisted":h="ephemeral";return c.abrupt("return",h);case 10:case"end":return c.stop()}},null,this)}function i(){if(!d("LSPersistedDbGating").allTablesPersisted){h="ephemeral";return h}h==null&&(c("FBLogger")("messenger_web_product").info("LS DB Provider type is not ready"),h="ephemeral");return h}function e(){return i()==="persisted"}g.getOrInitProviderType=a;g.getProviderType=i;g.isProviderPersisted=e}),98);
__d("LSInt64.bs",["bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){return a}c=b("bs_int64").compare;d=b("bs_int64").equal;e=b("bs_int64").to_string;f.compare=c;f.equal=d;f.string=e;f.ofString=a}),null);
__d("UserTimingUtils",["performance"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof c("performance").mark==="function"&&typeof c("performance").clearMarks==="function"&&typeof c("performance").measure==="function"&&typeof c("performance").clearMeasures==="function",i=!1;if(h&&c("performance").mark!=null){var j="__v3",k={};Object.defineProperty(k,"startTime",{get:function(){i=!0}});try{c("performance").mark(j,k)}catch(a){}finally{c("performance").clearMarks(j)}}function a(a){h&&c("performance").mark(a)}function b(a,b,d){d===void 0&&(d=!0);if(h){try{c("performance").measure(a,b)}catch(a){}d&&c("performance").clearMarks(b);c("performance").clearMeasures(a)}}function d(a){if(h){try{a=c("performance").getEntriesByName(a,"mark");if(a!=null&&a.length>0)return!0}catch(a){}return!1}}function e(a){if(h)try{c("performance").clearMarks(a)}catch(a){}}function f(a,b){if(i)try{c("performance").measure(a,b),c("performance").clearMeasures(a)}catch(a){}}function l(a,b){i&&(c("performance").mark(a,b),c("performance").clearMarks(a))}g.measureStart=a;g.measureEnd=b;g.hasMark=d;g.clearMarks=e;g.measureModern=f;g.markModern=l}),98);
__d("bs_js_dict",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(c in a)return b("bs_caml_option").some(a[c])}var g=function(a,b){delete a[b]};function c(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e){var f=b[e];d[e]=[f,a[f]]}return d}function d(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e)d[e]=a[b[e]];return d}function e(a){var b={};a=a;while(!0){var c=a;if(!c)return b;var d=c.hd;b[d[0]]=d[1];a=c.tl;continue}}function h(a){var b={},c=a.length;for(var d=0;d<c;++d){var e=a[d];b[e[0]]=e[1]}return b}function i(a,b){var c={},d=Object.keys(b),e=d.length;for(var f=0;f<e;++f){var g=d[f];c[g]=a(b[g])}return c}f.get=a;f.unsafeDeleteKey=g;f.entries=c;f.values=d;f.fromList=e;f.fromArray=h;f.map=i}),null);
__d("WAErr",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=new Error(a);if(a.stack===void 0)try{throw a}catch(a){}return a}f["default"]=a}),66);